<div class="modal-header">
    <h5 class="modal-title">Activity Downtime - <span class="text-danger">{{ activities[selectedActivityIndex].START_TIME | date : 'HH:mm'}} to {{ activities[selectedActivityIndex].END_TIME | date : 'HH:mm'}}</span></h5>
    <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="activeModal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
    </button>
</div>
<div class="modal-body container">
    <div class="w-100 text-center text-md-left mb-3">
        <span class="small text-muted font-weight-light">Legends: &nbsp;&nbsp;</span>
        <p class="small font-weight-500 m-0 position-relative d-inline-block mr-2">
            <span class="font-weight-bold text-danger">
                <div class="td-indicator"></div>
            </span>
            <i class="text-underline legend-editable">&nbsp; &nbsp; optional &nbsp; &nbsp;</i>
        </p>
        <p class="small font-weight-500 m-0 position-relative d-inline-block">
            <span class="font-weight-bold text-danger">
                <div class="td-indicator-required"></div>
            </span>
            <i class="text-underline legend-editable">&nbsp; &nbsp; required &nbsp; &nbsp;</i>
        </p>
    </div>
    <table id="modal_table" class="table table-sm table-bordered table-hover">
        <thead class="text-uppercase">
            <tr>
                <th style="width: 40%;" class="align-middle" rowspan="2">Type</th>
                <th style="width: 10%;" rowspan="2" class="align-middle">Minutes</th>
                <th style="width: 10%;" rowspan="2" class="align-middle">Quantity</th>
                <th style="width: 30%;" rowspan="2" class="align-middle">Remarks</th>
                <th style="width: 10%;" colspan="2">Created</th>
            </tr>
            <tr>
                <th>By</th>
                <th>At</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="text-right td-editable">
                    <div class="td-indicator"></div>
                    <select 
                        name="downtime_type"
                        ngbAutofocus
                        id="downtime_type"
                        class="form-control"
                        [(ngModel)]="selectedDowntimeType"
                        (change)="test()"
                    >
                        <option value="{value: null}" selected disabled>Select Reason</option>
                        <option *ngFor="let dtype of downtimeTypes; let i = index;" [ngValue]="dtype">{{ dtype.NAME }}</option>                
                    </select>
                </td>
                <td class="text-right td-editable">
                    <div class="td-indicator"></div>
                    <input
                        type="number"
                        min="0"
                        class="form-control input-sm editable-content text-right"
                        value="{{selectedDowntimeType.DEFAULT_MINUTES}}">
                </td>
                <td class="text-right td-editable">
                    <div class="td-indicator"></div>
                    <input
                        type="number"
                        min="0"
                        class="form-control input-sm editable-content text-right">
                </td>
                <td class="td-editable">
                    <div class="td-indicator"></div>
                    <textarea
                        name="remarks"
                        id="remarks"
                        class="form-control editable-content"
                        autosize
                        rows="1">
                    </textarea>
                </td>
                <td></td>
                <td></td>
            </tr>
        </tbody>
        <tfoot class="text-right">
            <tr>
                <th>Subtotal</th>
                <th>{{ activities[selectedActivityIndex].PACKED_QTY | number: '' }}</th>
                <th>{{ activities[selectedActivityIndex].ADJ_QTY | number: '' }}</th>
                <th>{{ activities[selectedActivityIndex].TOTAL | number: '' }}</th>
            </tr>
        </tfoot>
    </table>
</div>